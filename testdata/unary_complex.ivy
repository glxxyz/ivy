# Copyright 2022 The Go Authors. All rights reserved.
# Use of this source code is governed by a BSD-style
# license that can be found in the LICENSE file.

# Unary operations on complex numbers.

j 3
	0j3

J 3
	0j3

j iota 3
	0j1 0j2 0j3

+1j2
	1j2

-1j2
	-1j2

-(1j2)
	-1j-2

--1j1
	1j-1

2/3 + 0j4/5
	2/3j4/5

j iota 3
	0j1 0j2 0j3

2 + j iota 3
	2j1 2j2 2j3

real 0
	0

real 123
	123

real 0j1
	0

real 2j3
	2

imag 0
	0

imag 123
	0

imag j 1
	1

imag 2j3
	3

abs 0j1
	1

abs 1j0
	1

abs 1j1
	1.41421356237

abs -1j-1
	1.41421356237

sgn 0j1
	0j1

sgn 1j0
	1

sgn 1j1
	0.707106781187j0.707106781187

sgn 2j2
	0.707106781187j0.707106781187

floor 1j1
	1j1

floor 1.1j2.2
	1j2

ceil 1j1
	1j1

ceil 1.1j2.2
	2j3

phase 0
	0

phase 1
	0

phase 1j1
	0.785398163397

phase j 1
	1.57079632679

phase -1j1
	2.35619449019

phase -1
	3.14159265359

phase -1j-1
	-2.35619449019

phase j -1
	-1.57079632679

phase 1j-1
	-0.785398163397

log 1j1
	0.34657359028j0.785398163397

log 123j456
	6.1576092439j1.30732978576

float 1j2
	1j2

float 1/2j1/4
	0.5j0.25

sqrt 1j2
	1.27201964951j0.786151377757

sqrt -3j4
	1j2

**1j1
	1.46869393992j2.28735528718

# APL: 1○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
sin flip transp (-3 + iota 5) o.j -3 + iota 5
	-3.42095486j-1.50930649  -3.16577851j1.95960104   0.00000000j3.62686041   3.16577851j1.95960104  3.42095486j-1.50930649
	-1.40311925j-0.48905626  -1.29845758j0.63496391   0.00000000j1.17520119   1.29845758j0.63496391  1.40311925j-0.48905626
	            -0.90929743             -0.84147098              0.00000000              0.84147098              0.90929743
	 -1.40311925j0.48905626 -1.29845758j-0.63496391  0.00000000j-1.17520119  1.29845758j-0.63496391   1.40311925j0.48905626
	 -3.42095486j1.50930649 -3.16577851j-1.95960104  0.00000000j-3.62686041  3.16577851j-1.95960104   3.42095486j1.50930649

# APL: ¯1○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
asin flip transp (-3 + iota 5) o.j -3 + iota 5
	 -0.75424914j1.73432452  -0.42707859j1.52857092   0.00000000j1.44363548   0.42707859j1.52857092   0.75424914j1.73432452
	 -1.06344002j1.46935174  -0.66623943j1.06127506   0.00000000j0.88137359   0.66623943j1.06127506   1.06344002j1.46935174
	 -1.57079633j1.31695790             -1.57079633              0.00000000              1.57079633  1.57079633j-1.31695790
	-1.06344002j-1.46935174 -0.66623943j-1.06127506  0.00000000j-0.88137359  0.66623943j-1.06127506  1.06344002j-1.46935174
	-0.75424914j-1.73432452 -0.42707859j-1.52857092  0.00000000j-1.44363548  0.42707859j-1.52857092  0.75424914j-1.73432452

asin sin flip transp .5 * (-3 + iota 5) o.j -3 + iota 5
	     -1j1    -0.5j1       0j1     0.5j1       1j1
	   -1j0.5  -0.5j0.5     0j0.5   0.5j0.5     1j0.5
	       -1      -0.5         0       0.5         1
	  -1j-0.5 -0.5j-0.5    0j-0.5  0.5j-0.5    1j-0.5
	    -1j-1   -0.5j-1      0j-1    0.5j-1      1j-1

# APL: 2○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
cos flip transp (-3 + iota 5) o.j -3 + iota 5
	 -1.56562584j3.29789484   2.03272301j3.05189780              3.76219569  2.03272301j-3.05189780 -1.56562584j-3.29789484
	 -0.64214812j1.06860742   0.83373003j0.98889771              1.54308063  0.83373003j-0.98889771 -0.64214812j-1.06860742
	            -0.41614684              0.54030231              1.00000000              0.54030231             -0.41614684
	-0.64214812j-1.06860742  0.83373003j-0.98889771              1.54308063   0.83373003j0.98889771  -0.64214812j1.06860742
	-1.56562584j-3.29789484  2.03272301j-3.05189780              3.76219569   2.03272301j3.05189780  -1.56562584j3.29789484

# APL: ¯2○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
acos flip transp (-3 + iota 5) o.j -3 + iota 5
	2.32504547j-1.73432452 1.99787491j-1.52857092 1.57079633j-1.44363548 1.14371774j-1.52857092 0.81654718j-1.73432452
	2.63423635j-1.46935174 2.23703576j-1.06127506 1.57079633j-0.88137359 0.90455689j-1.06127506 0.50735630j-1.46935174
	3.14159265j-1.31695790             3.14159265             1.57079633             0.00000000  0.00000000j1.31695790
	 2.63423635j1.46935174  2.23703576j1.06127506  1.57079633j0.88137359  0.90455689j1.06127506  0.50735630j1.46935174
	 2.32504547j1.73432452  1.99787491j1.52857092  1.57079633j1.44363548  1.14371774j1.52857092  0.81654718j1.73432452

acos cos flip transp (-3 + iota 5) o.j -3 + iota 5
	2j-2 1j-2  0j2  1j2  2j2
	2j-1 1j-1  0j1  1j1  2j1
	   2    1    0    1    2
	 2j1  1j1  0j1 1j-1 2j-1
	 2j2  1j2  0j2 1j-2 2j-2

# APL: 3○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
tan flip transp (-3 + iota 5) o.j -3 + iota 5
	  0.02839295j1.02383559  -0.03381283j1.01479362   0.00000000j0.96402758   0.03381283j1.01479362  -0.02839295j1.02383559
	  0.24345820j1.16673626  -0.27175259j1.08392333   0.00000000j0.76159416   0.27175259j1.08392333  -0.24345820j1.16673626
	             2.18503986             -1.55740772              0.00000000              1.55740772             -2.18503986
	 0.24345820j-1.16673626 -0.27175259j-1.08392333  0.00000000j-0.76159416  0.27175259j-1.08392333 -0.24345820j-1.16673626
	 0.02839295j-1.02383559 -0.03381283j-1.01479362  0.00000000j-0.96402758  0.03381283j-1.01479362 -0.02839295j-1.02383559

# Avoid atan 0j1 and atan 0j-1 which have no solution.
# APL: ¯3○⊖⍉(¯3+⍳5)∘.j ¯2 ¯1.1 0 1.1 2
)format "%.8f"
atan flip transp (-3 + iota 5) o.j -2 -1.1 0 1.1 2
	 -1.31122327j0.23887786  -1.33897252j0.40235948   1.57079633j0.54930614   1.33897252j0.40235948   1.31122327j0.23887786
	 -1.19088374j0.18515756  -1.05744209j0.41957469   1.57079633j1.52226122   1.05744209j0.41957469   1.19088374j0.18515756
	            -1.10714872             -0.78539816              0.00000000              0.78539816              1.10714872
	-1.19088374j-0.18515756 -1.05744209j-0.41957469  1.57079633j-1.52226122  1.05744209j-0.41957469  1.19088374j-0.18515756
	-1.31122327j-0.23887786 -1.33897252j-0.40235948  1.57079633j-0.54930614  1.33897252j-0.40235948  1.31122327j-0.23887786

atan tan flip transp .5 * (-3 + iota 5) o.j -3 + iota 5
	     -1j1    -1/2j1       0j1     1/2j1       1j1
	   -1j0.5  -0.5j0.5     0j0.5   0.5j0.5     1j0.5
	       -1      -0.5         0       0.5         1
	  -1j-0.5 -0.5j-0.5    0j-0.5  0.5j-0.5    1j-0.5
	    -1j-1   -1/2j-1      0j-1    1/2j-1      1j-1

# APL: 5○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
sinh flip transp (-3 + iota 5) o.j -3 + iota 5
	  1.50930649j3.42095486   0.48905626j1.40311925   0.00000000j0.90929743  -0.48905626j1.40311925  -1.50930649j3.42095486
	 -1.95960104j3.16577851  -0.63496391j1.29845758   0.00000000j0.84147098   0.63496391j1.29845758   1.95960104j3.16577851
	            -3.62686041             -1.17520119              0.00000000              1.17520119              3.62686041
	-1.95960104j-3.16577851 -0.63496391j-1.29845758  0.00000000j-0.84147098  0.63496391j-1.29845758  1.95960104j-3.16577851
	 1.50930649j-3.42095486  0.48905626j-1.40311925  0.00000000j-0.90929743 -0.48905626j-1.40311925 -1.50930649j-3.42095486

# APL: ¯5○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
asinh flip transp (-3 + iota 5) o.j -3 + iota 5
	 -1.73432452j0.75424914  -1.46935174j1.06344002  -1.31695790j1.57079633   1.46935174j1.06344002   1.73432452j0.75424914
	 -1.52857092j0.42707859  -1.06127506j0.66623943  -0.00000000j1.57079633   1.06127506j0.66623943   1.52857092j0.42707859
	            -1.44363548             -0.88137359              0.00000000              0.88137359              1.44363548
	-1.52857092j-0.42707859 -1.06127506j-0.66623943 -0.00000000j-1.57079633  1.06127506j-0.66623943  1.52857092j-0.42707859
	-1.73432452j-0.75424914 -1.46935174j-1.06344002 -1.31695790j-1.57079633  1.46935174j-1.06344002  1.73432452j-0.75424914

)format "%.8f"
asinh sinh flip transp .5 * (-3 + iota 5) o.j -3 + iota 5
	 -1.00000000j1.00000000  -0.50000000j1.00000000   0.00000000j1.00000000   0.50000000j1.00000000   1.00000000j1.00000000
	 -1.00000000j0.50000000  -0.50000000j0.50000000   0.00000000j0.50000000   0.50000000j0.50000000   1.00000000j0.50000000
	            -1.00000000             -0.50000000              0.00000000              0.50000000              1.00000000
	-1.00000000j-0.50000000 -0.50000000j-0.50000000  0.00000000j-0.50000000  0.50000000j-0.50000000  1.00000000j-0.50000000
	-1.00000000j-1.00000000 -0.50000000j-1.00000000  0.00000000j-1.00000000  0.50000000j-1.00000000  1.00000000j-1.00000000

# APL: 6○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
cosh flip transp (-3 + iota 5) o.j -3 + iota 5
	-1.56562584j-3.29789484 -0.64214812j-1.06860742             -0.41614684  -0.64214812j1.06860742  -1.56562584j3.29789484
	 2.03272301j-3.05189780  0.83373003j-0.98889771              0.54030231   0.83373003j0.98889771   2.03272301j3.05189780
	             3.76219569              1.54308063              1.00000000              1.54308063              3.76219569
	  2.03272301j3.05189780   0.83373003j0.98889771              0.54030231  0.83373003j-0.98889771  2.03272301j-3.05189780
	 -1.56562584j3.29789484  -0.64214812j1.06860742             -0.41614684 -0.64214812j-1.06860742 -1.56562584j-3.29789484

# TODO
# APL: ¯6○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
# )format "%.8f"
# acosh flip transp (-3 + iota 5) o.j -3 + iota 5

# APL: 7○⊖⍉(¯3+⍳5)∘.j¯3+⍳5
)format "%.8f"
tanh flip transp (-3 + iota 5) o.j -3 + iota 5
	-1.02383559j-0.02839295 -1.16673626j-0.24345820  0.00000000j-2.18503986  1.16673626j-0.24345820  1.02383559j-0.02839295
	 -1.01479362j0.03381283  -1.08392333j0.27175259   0.00000000j1.55740772   1.08392333j0.27175259   1.01479362j0.03381283
	            -0.96402758             -0.76159416              0.00000000              0.76159416              0.96402758
	-1.01479362j-0.03381283 -1.08392333j-0.27175259  0.00000000j-1.55740772  1.08392333j-0.27175259  1.01479362j-0.03381283
	 -1.02383559j0.02839295  -1.16673626j0.24345820   0.00000000j2.18503986   1.16673626j0.24345820   1.02383559j0.02839295

# Avoid tanh -1 and tanh 1 for comparison with APL which has no infinity.
# APL: ¯7○⊖⍉ ¯2 ¯1.1 0 1.1 2 ∘.j ¯3+⍳5
)format "%.8f"
atanh flip transp -2 -1.1 0 1.1 2 o.j -3 + iota 5
	 -0.23887786j1.31122327  -0.18515756j1.19088374   0.00000000j1.10714872   0.18515756j1.19088374   0.23887786j1.31122327
	 -0.40235948j1.33897252  -0.41957469j1.05744209   0.00000000j0.78539816   0.41957469j1.05744209   0.40235948j1.33897252
	 -0.54930614j1.57079633  -1.52226122j1.57079633              0.00000000   1.52226122j1.57079633   0.54930614j1.57079633
	-0.40235948j-1.33897252 -0.41957469j-1.05744209  0.00000000j-0.78539816  0.41957469j-1.05744209  0.40235948j-1.33897252
	-0.23887786j-1.31122327 -0.18515756j-1.19088374  0.00000000j-1.10714872  0.18515756j-1.19088374  0.23887786j-1.31122327

atanh -1 1
	-Inf +Inf

)format "%.8f"
atanh tanh flip transp .5 * (-3 + iota 5) o.j -3 + iota 5
	 -1.00000000j1.00000000  -0.50000000j1.00000000   0.00000000j1.00000000   0.50000000j1.00000000   1.00000000j1.00000000
	 -1.00000000j0.50000000  -0.50000000j0.50000000   0.00000000j0.50000000   0.50000000j0.50000000   1.00000000j0.50000000
	            -1.00000000             -0.50000000              0.00000000              0.50000000              1.00000000
	-1.00000000j-0.50000000 -0.50000000j-0.50000000  0.00000000j-0.50000000  0.50000000j-0.50000000  1.00000000j-0.50000000
	-1.00000000j-1.00000000 -0.50000000j-1.00000000  0.00000000j-1.00000000  0.50000000j-1.00000000  1.00000000j-1.00000000
